webpackJsonp([1],{fF68:function(t,e){},vqEv:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={name:"order",data:function(){return{shoppingCar:{},room:0,price:0,remark:"",successContent:""}},methods:{submit:function(){var t=this,e=[];this.shoppingCar.details.forEach(function(t,s){var r={};r.name=t.name,r.price=t.price,r.num=t.num,e.push(r)});var s=new Date,r={userid:this.$route.query.userid,room:this.room,orderNum:""+s.getFullYear()+(s.getMonth()<9?"0"+(s.getMonth()+1):s.getMonth()+1)+s.getDate()+s.getHours()+s.getMinutes()+s.getSeconds(),orderContent:{list:e,remark:this.remark},printers:JSON.parse(sessionStorage.getItem("printer"))};this.axios({method:"post",baseURL:this.host.baseUrl,url:"/order",data:r}).then(function(e){t.$createDialog({type:"alert",showClose:!0,title:"提交成功",content:t.successContent,onClose:function(){console.log("close")}}).show()})}},mounted:function(){var t=this;this.shoppingCar=JSON.parse(sessionStorage.getItem("shoppingCar")),this.room=this.$route.query.room,this.successContent=sessionStorage.getItem("marked")+'如有任何疑问，请拨打前台电话<a href="tel:'+this.$route.query.tel+'">'+this.$route.query.tel+"（点击即可拨打）</a>进行询问",this.shoppingCar.details.forEach(function(e,s){t.price+=e.num*e.price})}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order"},[s("div",{staticClass:"bg"},[s("p",{staticClass:"title"},[t._v("确认订单")]),t._v(" "),s("p",{staticClass:"room"},[t._v("房间号:  "),s("span",[t._v(t._s(t.room))])]),t._v(" "),s("ul",{staticClass:"list"},[s("p",{staticClass:"shopping-list"},[t._v("购物单: "),s("span",[t._v(t._s(t.shoppingCar.text))])]),t._v(" "),t._l(t.shoppingCar.details,function(e,r){return s("li",{key:r},[s("span",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),s("span",{staticClass:"num"},[t._v("x"+t._s(e.num))]),t._v(" "),s("span",{staticClass:"price"},[t._v("￥"+t._s(e.price))])])}),t._v(" "),s("p",{staticClass:"all-price"},[t._v("总计： ￥"+t._s(t.price))])],2),t._v(" "),s("div",{staticClass:"remarks"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],attrs:{placeholder:"备注"},domProps:{value:t.remark},on:{input:function(e){e.target.composing||(t.remark=e.target.value)}}}),t._v(" "),s("cube-button",{on:{click:t.submit}},[t._v("确认下单")])],1)])])},staticRenderFns:[]},o=s("VU/8")(r,a,!1,function(t){s("fF68")},null,null);e.default=o.exports}});
//# sourceMappingURL=1.32cf158e11e8ec8e463d.js.map