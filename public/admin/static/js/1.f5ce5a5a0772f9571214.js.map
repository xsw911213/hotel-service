{"version":3,"sources":["webpack:///static/js/1.f5ce5a5a0772f9571214.js","webpack:///./src/views/hotel/printerSetting.vue","webpack:///printerSetting.vue","webpack:///./src/views/hotel/data/printer-365.js","webpack:///./src/views/hotel/printerSetting.vue?b29c","webpack:///./src/views/hotel/printerSetting.vue?5f3b","webpack:///./src/views/hotel/printerSetting.vue?380d"],"names":["webpackJsonp","538","module","exports","__webpack_require__","Component","546","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_stringify","_stringify2","_printer","_printer2","data","_this2","this","user","alreadyHadPrinter","printersConfig","formShow","isAdd","brand","ruleForm","rules","required","message","trigger","deviceNo","validator","rule","callback","arr","printers","max","length","i","Error","key","methods","changePrinterBrand","JSON","parse","submitForm","formName","_this3","$refs","validate","valid","console","log","succ","res","_this","$message","text","type","resetForm","error","push","ajax","http","host","baseUrl","toggleForm","boo","showPrinter","item","$index","addPrinter","deletePrinter","splice","init","sessionStorage","getItem","userid","mounted","548","printer","times","urls","addOrder","queryOrder","queryPrinterStatus","556","version","sources","names","mappings","file","sourceRoot","564","content","locals","573","render","_vm","_h","$createElement","_c","_self","staticStyle","width","attrs","max-height","border","prop","label","_v","align","scopedSlots","_u","fn","scope","size","on","click","$event","staticClass","margin-top","directives","name","rawName","expression","ref","model","label-width","placeholder","change","$$v","_l","index","$set","_e","staticRenderFns"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAASC,GCDjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,IAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAGAF,GAAAC,QAAAE,EAAAF,SDUMG,IACA,SAAUJ,EAAQC,EAASC,GAEjC,YAeA,SAASG,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAZvFG,OAAOC,eAAeT,EAAS,cAC9BU,OAAO,GAGR,IAAIC,GAAaV,EAAoB,KAEjCW,EAAcR,EAAuBO,GEQzCE,EAAAZ,EAAA,KFJIa,EAAYV,EAAuBS,EAIvCb,GAAQO,SACPQ,KAAM,WEEP,GAAAC,GAAAC,IFcE,QACCF,QACAG,QACAC,qBACAC,kBACAC,UEOH,EFNGC,OEOH,EFNGC,MEOH,EFNGC,YACAC,OACCF,QESJG,UAAA,EAAAC,QAAA,UAAAC,QAGA,SFXIC,WEYJH,UAAA,EAAAI,UFpCsB,SAAuBC,EAAMrB,EAAOsB,GAGvD,IAAK,GAFDC,GAAMjB,EAAOD,KEApBmB,SFCOC,EAAMF,EEAbG,OFCYC,EAAI,EAAGA,EAAIF,EAAKE,IACxB,GAAIrB,EAAOM,OAASW,EAAII,GAAGd,QAAUP,EAAOQ,SAASD,OAASU,EAAII,GAAGR,WAAanB,EEEtF,WFDKsB,GAAS,GAAIM,OEAlB,mBAYAN,MAmBAJ,QAEA,SFbIW,MEcJb,UAAA,EAAAC,QAAA,QAAAC,QAIA,YFbCY,SACCC,mBAAoB,WACnBxB,KAAKO,SAAWkB,KAAKC,OAAM,EAAI/B,EAAYL,SAASU,KAAKG,eAAeH,KEe3EM,UFbEqB,WAAY,SAAoBC,GEelC,GAAAC,GAAA7B,IFZGA,MAAK8B,MAAMF,GAAUG,SAAS,SAAUC,GACvC,IAAIA,EAwBH,MADAC,SAAQC,IEab,mBACA,CAxBA,IAAAC,GAAA,SAAAC,GFXMH,QAAQC,IEsBdE,GFrBMC,EAAMC,UACL5B,QEsBP6B,EFrBOC,KEuBP,YFrBMH,EEsBNI,aFnBSC,EAAQ,SAAeN,GAC1BH,QAAQC,IEsBdE,IFnBSG,EEAT,OFCSV,GAAOxB,QACVwB,EAAO/B,KAAKmB,SAAS0B,KAAKd,EEChCtB,UFAMgC,EECN,QFEKV,EAAOe,KAAKC,KAAK,MAAOhB,EAAOiB,KAAKC,QAAU,mBAAoBlB,EAAO/B,KAAMqC,EECpFO,EFAK,IECLL,GAAAR,KFMEmB,WAAY,SAAoBC,GAC/BjD,KAAKI,SEaR6C,EFZQA,IACJjD,KAAKK,OEaT,IFVEoC,UAAW,WACVzC,KAAKM,MEaR,EFZGN,KAAKO,SAAWkB,KAAKC,OAAM,EAAI/B,EAAYL,SAASU,KAAKG,eAAeH,KEa3EM,SFZGN,KAAKgD,YEaR,IFXEE,YAAa,SAAqBC,GACjClB,QAAQC,IEaXiB,GFZGnD,KAAKO,SAAWP,KAAKF,KAAKmB,SAASkC,EEatCC,QFZGpD,KAAKgD,YEaR,GFZGhD,KAAKK,OEaR,GFXEgD,WAAY,WACXrD,KAAKM,MEaR,EFZGN,KAAKK,OEaR,EFZGL,KAAKO,SAAWkB,KAAKC,OAAM,EAAI/B,EAAYL,SAASU,KAAKG,eAAeH,KEa3EM,SFZGN,KAAKgD,YEaR,IFXEM,cAAe,SAAuBH,GAIrC,QAAShB,GAAKC,GACbH,QAAQC,IEaZE,GFZIC,EAAMC,UACL5B,QEaL,OFZK8B,KEcL,YFZIH,EEaJI,YFVG,QAASC,GAAMN,GACdH,QAAQC,IEaZE,GF1BGpC,KAAKF,KAAKmB,SAASsC,OAAOJ,EAAKC,OEalC,GFZGpD,KAAK4C,KAAKC,KAAK,MAAO7C,KAAK8C,KAAKC,QAAU,mBAAoB/C,KAAKF,KAAMqC,EEa5EO,EFZG,IAAIL,GEaPrC,MFCEwD,KAAM,WAIL,QAASrB,GAAKC,GACb,GAAItC,GAAOsC,EEaftC,IFZIuC,GAAMvC,KEaVA,EFZImC,QAAQC,IAAIG,EEchBvC,MFZImC,QAAQC,IEaZ,MFZIG,EAAMnC,kBAAoBJ,EEa9BmB,SFXG,QAASyB,GAAMN,GACdH,QAAQC,IEaZE,GFzBGpC,KAAKC,KAAOwB,KAAKC,MAAM+B,eAAeC,QEazC,SFZG1D,KAAK4C,KAAKC,KAAK,MAAO7C,KAAK8C,KAAKC,QAAU,oBAAsBY,OAAQ3D,KAAKC,KAAK0D,QAAUxB,EEa/FO,EFZG,IAAIL,GEaPrC,OFCC4D,QAAS,WACR5D,KEaFwD,OFZExD,KAAKG,eEaPwC,KAAA9C,EAAAP,SFZEU,KEaFwB,wBFPMqC,IACA,SAAU/E,EAAQC,EAASC,GAEjC,YAGAO,QAAOC,eAAeT,EAAS,cAC7BU,OAAO,GG5LT,IAAIqE,IACFxD,MAAO,MACPM,SAAU,GACVU,IAAK,GACLyC,MAAO,EACPC,MACEC,SAAS,2CACTC,WAAW,6CACXC,mBAAmB,sDHkMvBpF,GAAQO,QG9LOwE,GHkMTM,IACA,SAAUtF,EAAQC,EAASC,GI/MjCD,EAAAD,EAAAC,QAAAC,EAAA,OAKAD,EAAA4D,MAAA7D,EAAAsC,EAAA,OAAkCiD,QAAA,EAAAC,WAAAC,SAAAC,SAAA,GAAAC,KAAA,qBAAAC,WAAA,OJwN5BC,IACA,SAAU7F,EAAQC,EAASC,GK3NjC,GAAA4F,GAAA5F,EAAA,IACA,iBAAA4F,SAAA9F,EAAAsC,EAAAwD,EAAA,MACAA,EAAAC,SAAA/F,EAAAC,QAAA6F,EAAAC,OAEA7F,GAAA,gBAAA4F,GAAA,ILoOME,IACA,SAAUhG,EAAQC,GM5OxBD,EAAAC,SAAgBgG,OAAA,WAAmB,GAAAC,GAAAhF,KAAaiF,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,WAAAA,EAAA,OACAE,aACAC,MAAA,WAEGH,EAAA,YACHE,aACAC,MAAA,QAEAC,OACAzF,KAAAkF,EAAA9E,kBACAsF,aAAA,MACAC,OAAA,MAEGN,EAAA,mBACHI,OACAG,KAAA,QACAC,MAAA,QAEGX,EAAAY,GAAA,KAAAT,EAAA,mBACHI,OACAG,KAAA,WACAC,MAAA,UAEGX,EAAAY,GAAA,KAAAT,EAAA,mBACHI,OACAG,KAAA,QACAC,MAAA,UAEGX,EAAAY,GAAA,KAAAT,EAAA,mBACHI,OACAI,MAAA,KACAE,MAAA,SACAP,MAAA,OAEAQ,YAAAd,EAAAe,KACAzE,IAAA,UACA0E,GAAA,SAAAC,GACA,OAAAd,EAAA,aACAI,OACA/C,KAAA,OACA0D,KAAA,SAEAC,IACAC,MAAA,SAAAC,GACArB,EAAA9B,YAAA+C,OAGSjB,EAAAY,GAAA,QAAAZ,EAAAY,GAAA,KAAAT,EAAA,aACTI,OACA/C,KAAA,OACA0D,KAAA,SAEAC,IACAC,MAAA,SAAAC,GACArB,EAAA1B,cAAA2C,OAGSjB,EAAAY,GAAA,gBAGN,OAAAZ,EAAAY,GAAA,KAAAT,EAAA,OACHmB,YAAA,iBACAjB,aACAkB,aAAA,UAEGpB,EAAA,aACHI,OACA/C,KAAA,WAEA2D,IACAC,MAAApB,EAAA3B,cAEG2B,EAAAY,GAAA,YAAAZ,EAAAY,GAAA,KAAAT,EAAA,WACHqB,aACAC,KAAA,OACAC,QAAA,SACAjH,MAAAuF,EAAA,SACA2B,WAAA,aAEAC,IAAA,WACAN,YAAA,gBACAjB,aACAkB,aAAA,QAEAhB,OACAsB,MAAA7B,EAAAzE,SACAC,MAAAwE,EAAAxE,MACAsG,cAAA,WAEG3B,EAAA,gBACHI,OACAI,MAAA,WAEGR,EAAA,aACHI,OACAwB,YAAA,WAEAZ,IACAa,OAAAhC,EAAAxD,oBAEAqF,OACApH,MAAAuF,EAAA,MACAjE,SAAA,SAAAkG,GACAjC,EAAA1E,MAAA2G,GAEAN,WAAA,UAEG3B,EAAAkC,GAAAlC,EAAA,wBAAA7B,EAAAgE,GACH,MAAAhC,GAAA,aACA7D,IAAA6F,EACA5B,OACAI,MAAAxC,EAAA7C,MACAb,MAAA0H,SAGG,GAAAnC,EAAAY,GAAA,SAAAZ,EAAA1E,MAAA6E,EAAA,gBACHI,OACAI,MAAA,QACAD,KAAA,cAEGP,EAAA,YACHE,aACAC,MAAA,SAEAC,OACAwB,YAAA,yBAEAF,OACApH,MAAAuF,EAAAzE,SAAA,SACAQ,SAAA,SAAAkG,GACAjC,EAAAoC,KAAApC,EAAAzE,SAAA,WAAA0G,IAEAN,WAAA,wBAEG,GAAA3B,EAAAqC,KAAArC,EAAAY,GAAA,SAAAZ,EAAA1E,MAAA6E,EAAA,gBACHI,OACAI,MAAA,QACAD,KAAA,SAEGP,EAAA,YACHE,aACAC,MAAA,SAEAC,OACAwB,YAAA,mBAEAF,OACApH,MAAAuF,EAAAzE,SAAA,IACAQ,SAAA,SAAAkG,GACAjC,EAAAoC,KAAApC,EAAAzE,SAAA,MAAA0G,IAEAN,WAAA,mBAEG,GAAA3B,EAAAqC,KAAArC,EAAAY,GAAA,KAAAT,EAAA,gBACHI,OACAI,MAAA,WAEGR,EAAA,YACHE,aACAC,MAAA,SAEAC,OACAwB,YAAA,gBAEAF,OACApH,MAAAuF,EAAAzE,SAAA,MACAQ,SAAA,SAAAkG,GACAjC,EAAAoC,KAAApC,EAAAzE,SAAA,QAAA0G,IAEAN,WAAA,qBAEG,GAAA3B,EAAAY,GAAA,KAAAT,EAAA,gBAAAA,EAAA,aACHI,OACA/C,KAAA,WAEA2D,IACAC,MAAA,SAAAC,GACArB,EAAArD,WAAA,gBAGGqD,EAAAY,GAAA,QAAAZ,EAAAY,GAAA,KAAAT,EAAA,aACHgB,IACAC,MAAApB,EAAAvC,aAEGuC,EAAAY,GAAA,uBACF0B","file":"static/js/1.f5ce5a5a0772f9571214.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 538:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(564)\n\nvar Component = __webpack_require__(67)(\n  /* script */\n  __webpack_require__(546),\n  /* template */\n  __webpack_require__(573),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 546:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _stringify = __webpack_require__(140);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _printer = __webpack_require__(548);\n\nvar _printer2 = _interopRequireDefault(_printer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n\tdata: function data() {\n\t\tvar _this2 = this;\n\n\t\tvar checkDeviceNo = function checkDeviceNo(rule, value, callback) {\n\t\t\tvar arr = _this2.data.printers;\n\t\t\tvar max = arr.length;\n\t\t\tfor (var i = 0; i < max; i++) {\n\t\t\t\tif (_this2.isAdd && arr[i].brand === _this2.ruleForm.brand && arr[i].deviceNo === value) {\n\t\t\t\t\tcallback(new Error('已有同一个机器，请查证后再输入'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcallback();\n\t\t};\n\n\t\treturn {\n\t\t\tdata: {},\n\t\t\tuser: {},\n\t\t\talreadyHadPrinter: [],\n\t\t\tprintersConfig: [],\n\t\t\tformShow: false,\n\t\t\tisAdd: true,\n\t\t\tbrand: 0,\n\t\t\truleForm: {},\n\t\t\trules: {\n\t\t\t\tbrand: [{ required: true, message: '请输入活动名称', trigger: 'blur' }],\n\t\t\t\tdeviceNo: [{ required: true, validator: checkDeviceNo, trigger: 'blur' }],\n\t\t\t\tkey: [{ required: true, message: '请输入密钥', trigger: 'blur' }]\n\t\t\t}\n\t\t};\n\t},\n\n\tmethods: {\n\t\tchangePrinterBrand: function changePrinterBrand() {\n\t\t\tthis.ruleForm = JSON.parse((0, _stringify2.default)(this.printersConfig[this.brand]));\n\t\t},\n\t\tsubmitForm: function submitForm(formName) {\n\t\t\tvar _this3 = this;\n\n\t\t\tthis.$refs[formName].validate(function (valid) {\n\t\t\t\tif (valid) {\n\t\t\t\t\tvar succ = function succ(res) {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t_this.$message({\n\t\t\t\t\t\t\tmessage: text,\n\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_this.resetForm();\n\t\t\t\t\t};\n\n\t\t\t\t\tvar error = function error(res) {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t};\n\n\t\t\t\t\tvar text = '修改成功！';\n\t\t\t\t\tif (_this3.isAdd) {\n\t\t\t\t\t\t_this3.data.printers.push(_this3.ruleForm);\n\t\t\t\t\t\ttext = '添加成功';\n\t\t\t\t\t}\n\n\t\t\t\t\t_this3.ajax.http('put', _this3.host.baseUrl + '/baseinfosetting', _this3.data, succ, error);\n\t\t\t\t\tvar _this = _this3;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('error submit!!');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttoggleForm: function toggleForm(boo) {\n\t\t\tthis.formShow = boo;\n\t\t\tif (!boo) {\n\t\t\t\tthis.isAdd = true;\n\t\t\t}\n\t\t},\n\t\tresetForm: function resetForm() {\n\t\t\tthis.brand = 0;\n\t\t\tthis.ruleForm = JSON.parse((0, _stringify2.default)(this.printersConfig[this.brand]));\n\t\t\tthis.toggleForm(false);\n\t\t},\n\t\tshowPrinter: function showPrinter(item) {\n\t\t\tconsole.log(item);\n\t\t\tthis.ruleForm = this.data.printers[item.$index];\n\t\t\tthis.toggleForm(true);\n\t\t\tthis.isAdd = false;\n\t\t},\n\t\taddPrinter: function addPrinter() {\n\t\t\tthis.brand = 0;\n\t\t\tthis.isAdd = true;\n\t\t\tthis.ruleForm = JSON.parse((0, _stringify2.default)(this.printersConfig[this.brand]));\n\t\t\tthis.toggleForm(true);\n\t\t},\n\t\tdeletePrinter: function deletePrinter(item) {\n\t\t\tthis.data.printers.splice(item.$index, 1);\n\t\t\tthis.ajax.http('put', this.host.baseUrl + '/baseinfosetting', this.data, succ, error);\n\t\t\tvar _this = this;\n\t\t\tfunction succ(res) {\n\t\t\t\tconsole.log(res);\n\t\t\t\t_this.$message({\n\t\t\t\t\tmessage: '删除成功',\n\t\t\t\t\ttype: 'success'\n\t\t\t\t});\n\t\t\t\t_this.resetForm();\n\t\t\t}\n\n\t\t\tfunction error(res) {\n\t\t\t\tconsole.log(res);\n\t\t\t}\n\t\t},\n\t\tinit: function init() {\n\t\t\tthis.user = JSON.parse(sessionStorage.getItem('user'));\n\t\t\tthis.ajax.http('get', this.host.baseUrl + '/baseinfosetting', { userid: this.user.userid }, succ, error);\n\t\t\tvar _this = this;\n\t\t\tfunction succ(res) {\n\t\t\t\tvar data = res.data;\n\t\t\t\t_this.data = data;\n\t\t\t\tconsole.log(_this.data);\n\n\t\t\t\tconsole.log('赋值');\n\t\t\t\t_this.alreadyHadPrinter = data.printers;\n\t\t\t}\n\t\t\tfunction error(res) {\n\t\t\t\tconsole.log(res);\n\t\t\t}\n\t\t}\n\t},\n\tmounted: function mounted() {\n\t\tthis.init();\n\t\tthis.printersConfig.push(_printer2.default);\n\t\tthis.changePrinterBrand();\n\t}\n};\n\n/***/ }),\n\n/***/ 548:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar printer = {\n  brand: '365',\n  deviceNo: '',\n  key: '',\n  times: 1,\n  urls: {\n    addOrder: 'http://open.printcenter.cn:8080/addOrder',\n    queryOrder: 'http://open.printcenter.cn:8080/queryOrder',\n    queryPrinterStatus: 'http://open.printcenter.cn:8080/queryPrinterStatus'\n  }\n};\n\nexports.default = printer;\n\n/***/ }),\n\n/***/ 556:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(530)();\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"printerSetting.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 564:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(556);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(531)(\"74dcfc64\", content, true);\n\n/***/ }),\n\n/***/ 573:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', [_c('div', {\n    staticStyle: {\n      \"width\": \"600px\"\n    }\n  }, [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.alreadyHadPrinter,\n      \"max-height\": \"300\",\n      \"border\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"brand\",\n      \"label\": \"品牌\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"deviceNo\",\n      \"label\": \"设备编号\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"times\",\n      \"label\": \"打印联数\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"align\": \"center\",\n      \"width\": \"100\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.showPrinter(scope)\n            }\n          }\n        }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.deletePrinter(scope)\n            }\n          }\n        }, [_vm._v(\"删除\")])]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"addNewPrintter\",\n    staticStyle: {\n      \"margin-top\": \"30px\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.addPrinter\n    }\n  }, [_vm._v(\"添加新打印机\")]), _vm._v(\" \"), _c('el-form', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.formShow),\n      expression: \"formShow\"\n    }],\n    ref: \"ruleForm\",\n    staticClass: \"demo-ruleForm\",\n    staticStyle: {\n      \"margin-top\": \"30px\"\n    },\n    attrs: {\n      \"model\": _vm.ruleForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"选择品牌:\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"选择打印机品牌\"\n    },\n    on: {\n      \"change\": _vm.changePrinterBrand\n    },\n    model: {\n      value: (_vm.brand),\n      callback: function($$v) {\n        _vm.brand = $$v\n      },\n      expression: \"brand\"\n    }\n  }, _vm._l((_vm.printersConfig), function(item, index) {\n    return _c('el-option', {\n      key: index,\n      attrs: {\n        \"label\": item.brand,\n        \"value\": index\n      }\n    })\n  }))], 1), _vm._v(\" \"), (_vm.brand === 0) ? _c('el-form-item', {\n    attrs: {\n      \"label\": \"设备编号:\",\n      \"prop\": \"deviceNo\"\n    }\n  }, [_c('el-input', {\n    staticStyle: {\n      \"width\": \"300px\"\n    },\n    attrs: {\n      \"placeholder\": \"请输入设备编号（deviceNo、机器号）\"\n    },\n    model: {\n      value: (_vm.ruleForm.deviceNo),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"deviceNo\", $$v)\n      },\n      expression: \"ruleForm.deviceNo\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), (_vm.brand === 0) ? _c('el-form-item', {\n    attrs: {\n      \"label\": \"设备密钥:\",\n      \"prop\": \"key\"\n    }\n  }, [_c('el-input', {\n    staticStyle: {\n      \"width\": \"300px\"\n    },\n    attrs: {\n      \"placeholder\": \"请输入设备密钥（key、密钥）\"\n    },\n    model: {\n      value: (_vm.ruleForm.key),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"key\", $$v)\n      },\n      expression: \"ruleForm.key\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"打印联数:\"\n    }\n  }, [_c('el-input', {\n    staticStyle: {\n      \"width\": \"300px\"\n    },\n    attrs: {\n      \"placeholder\": \"请输入打印联数（key）\"\n    },\n    model: {\n      value: (_vm.ruleForm.times),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"times\", $$v)\n      },\n      expression: \"ruleForm.times\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('ruleForm')\n      }\n    }\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.resetForm\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.f5ce5a5a0772f9571214.js","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-cb453238\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./printerSetting.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./printerSetting.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cb453238\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./printerSetting.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/hotel/printerSetting.vue\n// module id = 538\n// module chunks = 1","<template>\n\t<section>\n\t\t<div style=\"width:600px\">\n\t\t\t<el-table :data=\"alreadyHadPrinter\" max-height=\"300\" border style=\"width: 100%\">\n\t\t\t\t<el-table-column prop=\"brand\" label=\"品牌\" ></el-table-column>\n\t\t\t\t<el-table-column prop=\"deviceNo\" label=\"设备编号\" ></el-table-column>\n\t\t\t\t<el-table-column prop=\"times\" label=\"打印联数\" ></el-table-column>\n\t\t\t\t<el-table-column label=\"操作\" align=\"center\" width=\"100\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-button @click=\"showPrinter(scope)\" type=\"text\" size=\"small\">编辑</el-button>\n\t\t\t\t\t\t<el-button @click=\"deletePrinter(scope)\" type=\"text\" size=\"small\">删除</el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\t\t</div>\n\t\t<div class=\"addNewPrintter\" style=\"margin-top:30px;\">\n\t\t\t<el-button type=\"primary\" @click=\"addPrinter\">添加新打印机</el-button>\n\t\t\t<el-form v-show=\"formShow\" :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\" style=\"margin-top:30px;\">\n\t\t\t\t<el-form-item label=\"选择品牌:\">\n\t\t\t\t\t<el-select v-model=\"brand\" placeholder=\"选择打印机品牌\" @change=\"changePrinterBrand\">\n\t\t\t\t\t\t<el-option v-for=\"(item,index) in printersConfig\" :label=\"item.brand\" :value=\"index\" :key=\"index\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item v-if=\"brand === 0\" label=\"设备编号:\" prop=\"deviceNo\">\n\t\t\t\t\t<el-input v-model=\"ruleForm.deviceNo\" placeholder=\"请输入设备编号（deviceNo、机器号）\" style=\"width:300px;\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item v-if=\"brand === 0\" label=\"设备密钥:\" prop=\"key\">\n\t\t\t\t\t<el-input v-model=\"ruleForm.key\" placeholder=\"请输入设备密钥（key、密钥）\" style=\"width:300px;\"></el-input>\n\t\t\t\t</el-form-item>\n\n\t\t\t\t<el-form-item label=\"打印联数:\">\n\t\t\t\t\t<el-input v-model=\"ruleForm.times\" placeholder=\"请输入打印联数（key）\" style=\"width:300px;\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item>\n\t\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('ruleForm')\">保存</el-button>\n\t\t\t\t\t<el-button @click=\"resetForm\">取消</el-button>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t</div>\n\t\t\n\t</section>\n</template>\n\n<script>\n\timport printer365 from './data/printer-365';\n\texport default {\n    data() {\n\n\t\t\tvar checkDeviceNo = (rule, value, callback) => {\n\t\t\t\tlet arr = this.data.printers\n\t\t\t\tlet max = arr.length;\n\t\t\t\tfor(let i = 0 ; i < max ; i++){\n\t\t\t\t\tif(this.isAdd && arr[i].brand === this.ruleForm.brand && arr[i].deviceNo === value){\n\t\t\t\t\t\tcallback(new Error('已有同一个机器，请查证后再输入'));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback();\n        // if (value === '') {\n        //   callback(new Error('请再次输入密码'));\n        // } else if (value !== this.ruleForm2.pass) {\n        //   callback(new Error('两次输入密码不一致!'));\n        // } else {\n        //   callback();\n        // }\n\t\t\t};\n\t\t\t\n\t\t\treturn {\n\t\t\t\tdata:{},\n\t\t\t\tuser:{},\n\t\t\t\talreadyHadPrinter:[],\n\t\t\t\tprintersConfig: [],\n\t\t\t\tformShow: false,\n\t\t\t\tisAdd:true,\n\t\t\t\tbrand:0,\n\t\t\t\truleForm: {\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\trules: {\n          brand: [\n            { required: true, message: '请输入活动名称', trigger: 'blur' },\n            // { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'blur' }\n\t\t\t\t\t],\n\t\t\t\t\tdeviceNo:[\n\t\t\t\t\t\t{ required: true, validator: checkDeviceNo, trigger: 'blur' },\n\t\t\t\t\t],\n\t\t\t\t\tkey:[\n\t\t\t\t\t\t{ required: true, message: '请输入密钥', trigger: 'blur' },\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t  }\n\t\t},\n\t\tmethods:{\n\t\t\tchangePrinterBrand(){\n\t\t\t\tthis.ruleForm = JSON.parse(JSON.stringify(this.printersConfig[this.brand]));\n\t\t\t},\n\t\t\tsubmitForm(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n\t\t\t\t\t\tlet text = '修改成功！'\n\t\t\t\t\t\tif(this.isAdd){\n\t\t\t\t\t\t\t// 如果是新添加\n\t\t\t\t\t\t\tthis.data.printers.push(this.ruleForm);\n\t\t\t\t\t\t\ttext = '添加成功'\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.ajax.http('put', this.host.baseUrl + '/baseinfosetting', this.data, succ, error);\n            let _this = this;\n            function succ(res){\n              console.log(res)\n              _this.$message({\n                message: text,\n                type: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t_this.resetForm();\n            }\n\n            function error(res){\n              console.log(res)\n            }\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n\t\t\t},\n\t\t\ttoggleForm(boo){\n\t\t\t\tthis.formShow = boo;\n\t\t\t\tif(!boo){\n\t\t\t\t\tthis.isAdd = true;\n\t\t\t\t}\n\t\t\t},\n      resetForm() {\n\t\t\t\tthis.brand = 0;\n\t\t\t\tthis.ruleForm = JSON.parse(JSON.stringify(this.printersConfig[this.brand]));\n\t\t\t\tthis.toggleForm(false);\n\t\t\t},\n\t\t\tshowPrinter(item){\n\t\t\t\tconsole.log(item)\n\t\t\t\tthis.ruleForm = this.data.printers[item.$index];\n\t\t\t\tthis.toggleForm(true);\n\t\t\t\tthis.isAdd = false;\n\t\t\t},\n\t\t\taddPrinter(){\n\t\t\t\tthis.brand = 0;\n\t\t\t\tthis.isAdd = true;\n\t\t\t\tthis.ruleForm = JSON.parse(JSON.stringify(this.printersConfig[this.brand]));\n\t\t\t\tthis.toggleForm(true);\n\t\t\t},\n\t\t\tdeletePrinter(item){\n\t\t\t\tthis.data.printers.splice(item.$index,1)\n\t\t\t\tthis.ajax.http('put', this.host.baseUrl + '/baseinfosetting', this.data, succ, error);\n\t\t\t\tlet _this = this;\n\t\t\t\tfunction succ(res){\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t_this.$message({\n\t\t\t\t\t\tmessage: '删除成功',\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\t_this.resetForm();\n\t\t\t\t}\n\n\t\t\t\tfunction error(res){\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t}\n\t\t\t},\n\t\t\tinit(){\n\t\t\t\tthis.user = JSON.parse(sessionStorage.getItem('user'));\n        this.ajax.http('get', this.host.baseUrl + '/baseinfosetting', {userid:this.user.userid}, succ, error);\n        let _this = this;\n        function succ(res){\n          let data = res.data;\n          _this.data = data;\n\t\t\t\t\tconsole.log(_this.data);\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('赋值');\n\t\t\t\t\t_this.alreadyHadPrinter = data.printers;\n        }\n        function error(res){\n          console.log(res);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted(){\n\t\t\tthis.init();\n\t\t\tthis.printersConfig.push(printer365);\n\t\t\tthis.changePrinterBrand();\n\t\t}\n  }\n\n</script>\n\n<style lang='scss'>\n\n</style>\n\n\n// WEBPACK FOOTER //\n// printerSetting.vue?01fa1fe4","let printer = {\n  brand: '365',\n  deviceNo: '',\n  key: '',\n  times: 1,\n  urls:{\n    addOrder:'http://open.printcenter.cn:8080/addOrder',\n    queryOrder:'http://open.printcenter.cn:8080/queryOrder',\n    queryPrinterStatus:'http://open.printcenter.cn:8080/queryPrinterStatus'\n  }\n}\n\nexport default printer\n\n\n// WEBPACK FOOTER //\n// ./src/views/hotel/data/printer-365.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"printerSetting.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-cb453238\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/hotel/printerSetting.vue\n// module id = 556\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-cb453238\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./printerSetting.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"74dcfc64\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-cb453238\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/hotel/printerSetting.vue\n// module id = 564\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', [_c('div', {\n    staticStyle: {\n      \"width\": \"600px\"\n    }\n  }, [_c('el-table', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"data\": _vm.alreadyHadPrinter,\n      \"max-height\": \"300\",\n      \"border\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"prop\": \"brand\",\n      \"label\": \"品牌\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"deviceNo\",\n      \"label\": \"设备编号\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"times\",\n      \"label\": \"打印联数\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"align\": \"center\",\n      \"width\": \"100\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.showPrinter(scope)\n            }\n          }\n        }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"text\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.deletePrinter(scope)\n            }\n          }\n        }, [_vm._v(\"删除\")])]\n      }\n    }])\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"addNewPrintter\",\n    staticStyle: {\n      \"margin-top\": \"30px\"\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.addPrinter\n    }\n  }, [_vm._v(\"添加新打印机\")]), _vm._v(\" \"), _c('el-form', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.formShow),\n      expression: \"formShow\"\n    }],\n    ref: \"ruleForm\",\n    staticClass: \"demo-ruleForm\",\n    staticStyle: {\n      \"margin-top\": \"30px\"\n    },\n    attrs: {\n      \"model\": _vm.ruleForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"选择品牌:\"\n    }\n  }, [_c('el-select', {\n    attrs: {\n      \"placeholder\": \"选择打印机品牌\"\n    },\n    on: {\n      \"change\": _vm.changePrinterBrand\n    },\n    model: {\n      value: (_vm.brand),\n      callback: function($$v) {\n        _vm.brand = $$v\n      },\n      expression: \"brand\"\n    }\n  }, _vm._l((_vm.printersConfig), function(item, index) {\n    return _c('el-option', {\n      key: index,\n      attrs: {\n        \"label\": item.brand,\n        \"value\": index\n      }\n    })\n  }))], 1), _vm._v(\" \"), (_vm.brand === 0) ? _c('el-form-item', {\n    attrs: {\n      \"label\": \"设备编号:\",\n      \"prop\": \"deviceNo\"\n    }\n  }, [_c('el-input', {\n    staticStyle: {\n      \"width\": \"300px\"\n    },\n    attrs: {\n      \"placeholder\": \"请输入设备编号（deviceNo、机器号）\"\n    },\n    model: {\n      value: (_vm.ruleForm.deviceNo),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"deviceNo\", $$v)\n      },\n      expression: \"ruleForm.deviceNo\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), (_vm.brand === 0) ? _c('el-form-item', {\n    attrs: {\n      \"label\": \"设备密钥:\",\n      \"prop\": \"key\"\n    }\n  }, [_c('el-input', {\n    staticStyle: {\n      \"width\": \"300px\"\n    },\n    attrs: {\n      \"placeholder\": \"请输入设备密钥（key、密钥）\"\n    },\n    model: {\n      value: (_vm.ruleForm.key),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"key\", $$v)\n      },\n      expression: \"ruleForm.key\"\n    }\n  })], 1) : _vm._e(), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"打印联数:\"\n    }\n  }, [_c('el-input', {\n    staticStyle: {\n      \"width\": \"300px\"\n    },\n    attrs: {\n      \"placeholder\": \"请输入打印联数（key）\"\n    },\n    model: {\n      value: (_vm.ruleForm.times),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm, \"times\", $$v)\n      },\n      expression: \"ruleForm.times\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('ruleForm')\n      }\n    }\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": _vm.resetForm\n    }\n  }, [_vm._v(\"取消\")])], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-cb453238\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/hotel/printerSetting.vue\n// module id = 573\n// module chunks = 1"],"sourceRoot":""}